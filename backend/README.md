# Zoom AI Bot Backend

A streamlined backend for Zoom AI bots that automatically joins meetings, records using cloud recording, and saves transcripts - just like Read AI.

## ğŸš€ Features

- **ğŸ” OAuth Authentication** - Secure Zoom OAuth integration
- **ğŸ¤– Automatic Meeting Joining** - Bot joins meetings when they start
- **â˜ï¸ Cloud Recording** - Uses Zoom's built-in cloud recording (no Puppeteer needed)
- **ğŸ“ Automatic Transcription** - Downloads and saves meeting transcripts
- **ğŸ“Š Meeting Management** - Track and manage all recorded meetings
- **ğŸ”” Webhook Integration** - Real-time meeting event handling

## ğŸ—ï¸ Architecture

```
backend/
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ user.js          # User model with Zoom OAuth tokens
â”‚   â””â”€â”€ meeting.js       # Meeting model with recording/transcript data
â”œâ”€â”€ routes/
â”‚   â”œâ”€â”€ auth.js          # OAuth authentication routes
â”‚   â”œâ”€â”€ webhook.js       # Zoom webhook event handling
â”‚   â”œâ”€â”€ meeting.js       # Meeting CRUD operations
â”‚   â””â”€â”€ bot.js           # Bot status and control endpoints
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ zoomCloudBot.js  # Main bot logic using cloud recording
â”‚   â””â”€â”€ zoomSignature.js # JWT signature generation
â”œâ”€â”€ middleware/
â”‚   â”œâ”€â”€ auth.js          # JWT authentication middleware
â”‚   â””â”€â”€ verifyzoom.js    # Zoom webhook verification
â””â”€â”€ server.js            # Main Express server
```

## ğŸ› ï¸ Setup

### 1. Environment Variables

Create a `.env` file in the backend directory:

```env
# MongoDB
MONGO_URI=mongodb://localhost:27017/zoom-bot

# JWT Secret
JWT_SECRET=your-super-secret-jwt-key

# Zoom OAuth App (from Zoom Marketplace)
ZOOM_BOT_CLIENT_ID=your_zoom_client_id
ZOOM_BOT_CLIENT_SECRET=your_zoom_client_secret

# Server
PORT=5000
```

### 2. Install Dependencies

```bash
npm install
```

### 3. Start the Server

```bash
# Development
npm run dev

# Production
npm start
```

## ğŸ“¡ API Endpoints

### Authentication
- `GET /api/auth/zoom` - Start Zoom OAuth flow
- `GET /api/auth/zoom/callback` - OAuth callback handler

### Bot Management
- `GET /api/bot/status` - Get bot status and active meetings
- `POST /api/bot/start` - Start bot (automatic)
- `POST /api/bot/stop` - Stop bot (automatic)

### Meetings
- `GET /api/meetings` - Get user's meetings
- `GET /api/meetings/:id` - Get specific meeting
- `DELETE /api/meetings/:id` - Delete meeting

### Webhooks
- `POST /api/webhook/zoom` - Zoom webhook events

## ğŸ”„ How It Works

### 1. User Authentication
1. User clicks "Login with Zoom" on frontend
2. Redirected to Zoom OAuth
3. User authorizes the app
4. Backend receives access token and stores user

### 2. Meeting Joining
1. User starts a Zoom meeting
2. Zoom sends `meeting.started` webhook
3. Bot automatically "joins" by creating meeting record
4. Bot enables cloud recording for the meeting

### 3. Recording & Transcription
1. Meeting ends, Zoom sends `meeting.ended` webhook
2. Bot downloads cloud recording from Zoom API
3. Bot downloads transcript file
4. Bot saves transcript to database

### 4. Frontend Access
1. Frontend fetches meetings via API
2. Users can view recordings and transcripts
3. All data is securely tied to user account

## ğŸ”§ Zoom App Configuration

### Required Zoom App Settings

1. **App Type**: OAuth App
2. **Redirect URL**: `https://yourdomain.com/api/auth/zoom/callback`
3. **Scopes**:
   - `meeting:read`
   - `recording:read`
   - `user:read`

### Webhook Configuration

1. **Webhook URL**: `https://yourdomain.com/api/webhook/zoom`
2. **Events**:
   - `meeting.started`
   - `meeting.ended`

## ğŸ¯ Key Benefits

- **No Puppeteer**: Uses Zoom's cloud recording instead of browser automation
- **Automatic**: No manual intervention needed
- **Scalable**: Can handle multiple users and meetings
- **Secure**: OAuth authentication with proper token management
- **Simple**: Clean, focused codebase

## ğŸš€ Deployment

### Environment Setup
1. Set up MongoDB database
2. Configure Zoom OAuth app
3. Set environment variables
4. Deploy to your server

### Production Considerations
- Use HTTPS for OAuth and webhooks
- Encrypt sensitive data in database
- Set up proper logging and monitoring
- Configure CORS for frontend domain

## ğŸ“ Notes

- The bot uses Zoom's cloud recording feature, which requires a Zoom Pro account
- Transcripts are automatically generated by Zoom
- All data is stored securely in MongoDB
- The system is designed to be stateless and scalable 